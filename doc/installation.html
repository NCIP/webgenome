<h1>WebGenome 2.3 Installation Manual</h1>

<h2>1  System Requirements</h2>

<ul>
	<li><a href="http://java.sun.com">Java</a> 5.0</li>
	<li><a href="http://tomcat.apache.org">Tomcat</a> 5.5.x or
	<a href="http://www.jboss.com">JBoss</a> 4.0.2</li>
	<li>Recent version of <a href="http://ant.apache.org">Ant</a></li>
	<li><a href="http://www.r-project.org">R</a> 2.4.x statistical environment</li>
	<li>The following R packages</li>
	<ul>
		<li>Bioconductor</li>
		<li>aCGH</li>
	</ul>
	<li><a href="http://rosuda.org/Rserve">RServe</a></li>
	<li>Oracle 9i or higher RDBMS</li>
</ul>

<h2>2  Installing R Packages and RServe</h2>
<ul>
	<li>Install Bioconductor first.  Instructions can be found
	<a href="http://www.bioconductor.org/docs/install-howto.html">here</a>.</li>
	<li>Install aCGH by typing 'biocLite(c("aCGH")) in the R command window.</li>
	<li>Instructions for installing RServe can be found
	<a href="http://rosuda.org/Rserve">here</a>.
</ul>

<h2>3  Creating a Database</h2>
<ul>
	<li>Create tables by running SQL table build script
	/db/client/sql/create_tables_oracle.sql</li>
	<li>Load initial table data using CSV filesin /db/client/data thus:</li>
	<ul>
		<li>get a command-line prompt (or shell)</li>
		<li>cd to db/client/sql</li>
		<li>Enter the command 'sqlldr <em>username</em>/<em>password</em>@<em>db-instance</em> load_cytoband.csv'</br>
		<em>The cytoband table should be populated from the cytoband.csv file.</em></li>
		<li>Enter the command 'sqlldr <em>username</em>/<em>password</em>@<em>db-instance</em> load_cytological_map_data.ctl'</br>
		<em>The cytological_map table should be populated from the cytological_map.csv file.</em></li>
	</ul>
</ul>

<h2>4  Building System</h2>

<ol>
	<li>Unzip the distribution in a suitable directory location.</li>
	<li>Edit the file <em>build.properties</em>, set properties such as <em>javadoc.dir</em>
	to a suitable location on the file-system, e.g. <em>javadoc=c:/tmp/webcgh/javadoc</em>. This
	could also be set to a location within the build directory, e.g. ./doc/api.</li>
	<li>Open a command window or shell.</li>
	<li>Change to the <em>WEBGENOME_ROOT</em> directory.</li>
	<li>Enter the command 'ant war' at the prompt.  This will result in the creation of a WAR file
		/dist/webGenome.war.</li>
	<li>Enter the command 'ant doc' at the prompt.  This will generate
		Javadoc API documentation in the /doc/api directory.
</ol>


<h2>5  Installing System</h2>

<ul>
	<li>Start RServe following the instructions on the
	<a href="http://rosuda.org/Rserve">RServe website</a>.</li>
	<li>Deploy webGenome.war into a new context following the
	instructions provided with whichever application server
</ul>

<h2>6  Configuring System</h2>
<p>System Properties may be specified which override any existing property of the same
property name in ./conf/webcgh.properties.
There are several ways of specifying System Properties, for example, they may
be specified as <em>JAVA_OPTS</em> settings and passed into the web/application container.
To do this, individual properties are added using the <em>-Dproperty.name=property.value</em>
setting. Consult the documentation of the application container for specific ways to inject
System Properties.</p>
<p>For JBoss, System Properties can be specified in a product-services.xml file, which is
deployed into the deployment directory, e.g. %JBOSS_HOME%/server/default/deploy.
<ol>
	<li>Copy the file ./configuration/product-services.xml into the JBoss Deployment directory,
	or cut-and-paste the individual System properties settings for webGenome into an existing
	product-services.xml file (already in the JBoss Deployment directory).</li>
	<li>Each System Property setting for webGenome is documented to explain what it
	is used for. Edit the settings to suit the deployment environment, e.g. set <em>mail.smtp.host</em>
	to the SMTP Server that will be dispatching emails, if there is an Exception generated by
	webGenome during processing.</li>
	<li>Deploy webGenome.war into the JBoss Deployment environment.</li>
</ol>
<p>For other Application/Web Application Servers, follow the documentation available
for making System Property settings.</p>