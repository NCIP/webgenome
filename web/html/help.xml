<?xml version="1.0"?>

<!--L
   Copyright RTI International

   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/webgenome/LICENSE.txt for details.
L-->

<?xml-stylesheet type="text/xsl" href="help.xsl"?>
<help-doc title="webGenome Help">

	<!-- ============================================================ -->
	<!--                   Overview                                   -->
	<!-- ============================================================ -->
	<section title="webGenome Overview" id="overview">
		<p>
			WebGenome is a web-based application for
			plotting and visualizing microarray data including both
			comparative
			genome hybridization (CGH) data and gene expression.
			The system allows the user
			to select microarray data sets from public as well as private
			database areas.  The user may perform preliminary filtering,
			smoothing, and normalization of data prior to plotting.  The
			system supports several types of plots:
		</p>
		
		<prop-list>
			<prop name="Scatter Plots" refid="scatterPlot">
				Plots DNA copy number measurements
				across the genome, chromosome, or chromosomal interval.
			</prop>
			
			<prop name="Annotation Plots" refid="annotationPlot">
				Shows DNA copy number measurements
				in relation to annotated genome feature, such as genes.
			</prop>
			
			<prop name="Annotation Reports" refid="annotationReport">
				Shows annotation
				genome features in a tabular format.
			</prop>
			
			<prop name="Ideogram Plot" refid="ideogramPlot">
				Shows chromosomal amplifications
				and deletions in relation to cytogenetic chromosome ideograms.
			</prop>
			
			<prop name="Probe Plot" refid="probePlot">
				Shows measured copy number for
				selected reporter probes.
			</prop>
		</prop-list>
		
		<p>
			In addition, webGenome enables the user to 
			create <ref id="virtual">virtual experiments</ref> 
			(i.e. user-defined aggregations of data) and custom 
			<ref id="pipelines">analytic pipelines</ref>, both of which are persistent.
			The underlying data model used by webGenome is a very simplied version of
			the MAGE-OM.  The most important concept for the use of the system
			is that individual array data sets, called <em>bioassays</em> are aggregated
			into experiments.
		</p>
	</section>
	
	
	<!-- =============================================================== -->
	<!--                         Plots                                   -->
	<!-- =============================================================== -->
	<section title="Plots" id="plots">
		
		<!-- ============ Plot setup ===================== -->
		<section title="Setting up for Plotting" id="plotSetup">
		The user must do two things before creating a plot.  First, one or more
		experiments must be selected.  Second, plotting parameters must be set appropriately.
		Experiment selection is covered in the section <ref id="plotSelectCgh">Selecting Experiments</ref>.
		Plotting parameters are covered in the section <ref id="plotParameters">Plotting Parameters</ref>.
		
			<!-- Selecting experiments -->
			<section title="Selecting Experiments" id="plotSelectCgh">
				For a general description of the tasks that must be
				performed prior to plotting see
				the section <ref id="plotSetup">Setting up for Plotting</ref>.
				The selected experiments screen, which is displayed when the
				user selects <em>Plot Data</em> and <em>Data</em> from the menu,
				displays the contents of the users "data shopping cart."  All
				data in this cart will be plotted when the user selects a plot.
				The first time the user navigates to this screen after log-in
				the data shopping cart will be empty.  To add items into the cart, the
				system provides a wizard interface described in the section
				<ref id="selectDataWizard">Data Selection Wizard</ref>.  This wizard
				will be invoked when the user clicks the button "Select Experiments."
				If there are experiments in the cart, the selected experiments screen will
				enable the user to remove experiments.
				
				<section title="Data Selection Wizard" id="selectDataWizard">
					The data selection wizard can be invokved by selecting
					the <em>Plot Data</em> and <em>Data</em> menus and then clicking
					on the button "Select Experiments."  The data wizard enables
					the user to select experiments from among the configured data sources.
					The wizard will allow the user to specify certain required experiment
					properties that are required for generating plots.  The individual
					screens of the wizard are described here.
					
					<prop-list>
						<prop name="Selecting Experiments" id="wizardSelectExperiments">
							For an overview of the data selection wizard
							see <ref id="selectDataWizard">Data Selection Wizard</ref>.
							In this screen the user is presented with a list of all
							experiments that he or she is authorized to access minus experiments
							already in the cart.  This includes
							any defined virtual experiments
							(see section <ref id="virtual">Virtual Experiments</ref>).
						</prop>
						<prop name="Selecting Experiment Types" id="wizardSelectExperimentTypes">
							In this screen the user selects the type of experiment (i.e. CGH or
							gene expression) for each
							experiment selected in the previous screen.  The user may select
							experiment types at the level of the individual bioassay (i.e. array)
							or for the entire experiment.  If the user selects multiple experiment types
							for bioassays within the same experiment, then the system splits the
							experiment by experiment type.  The result is that all bioassays in each
							experiment are homogeneous with regard to type.  The reason for this is that
							many analytical operations are performed on experiments.  Mixing experiment
							types would lead to statistically nonsensical results.
						</prop>
						<prop name="Selecing Probe Sets" id="wizardSelectProbeSets">
							WebGenome needs to know what probe set each bioassay is associated with
							in order to look up the physical position of probes witin the genome.
							If the user does not find the appropriate probe from the drop-down lists,
							then he or she should select one of the "other" options.  The system can
							still generate plots if the user submitted probe locations with
							their data.  If the user selects probe sets from different organisms
							within the same experiment, the system will split the experiment
							by organism for the reason discussed in the previous step.
						</prop>
						<prop name="Selecting Genome Assemblies" id="wizardSelectAssemblies">
							WebGenome maps probe locations to genome assembly versions.  In this
							screen the user must specify an assembly version for each organism.
							If the user selects the checkbox "Use probe locations submitted with array data where possible"
							the system will use user-provided probe location data if these data were submitted with
							experiment results.  Regardless, if any given probe does not have an associated location the
							system will attempt to look the information up.
						</prop>
						<prop name="View Probe Mapping Results" id="wizardResults">
							In this screen the system displays the numbers and percentages of probes
							that the system was able to map to a physical position on a genome assembly
							using either user-provided locations or locations stored within the system.
						</prop>
					</prop-list>
				</section>
			</section>
			
			<!-- Plotting parameters -->
			<section title="Plotting Parameters" id="plotParams">
				Plotting parameters control how data will be presented graphically
				in the plots.  All plotting parameters are set in one form and apply
				to all plots.  In other words, parameters are global. Additionally,
				many of the plots are interactive.  Interacting with a plot may cause
				certain plotting plotting parameters to be set.  For instance, in scatter
				plots of the whole genome, chromosome numbers are hot-linked; clicking on a
				chromosome name navigates the user to a plot of the selected chromosome.
				This has the side-effect of setting the <ref id="param-chromosome">chromosome
				parameter</ref>.  Global plotting parameters are desirable
				in that the user can easily switch between different
				graphical views of the same underlying data easily.  The table on this
				page indicates which parameters are required, optional, and ignored for
				each plot type.
				
				<!-- Genome segment -->
				<section title="Genome Segment" id="param-genomeIntervals">
					This set of parameters constrains the genome interval that will
					be displayed in plots.  Genome segments should be specified in the
					following format: CHROMOSOME[:FROM-TO][,CHROMOSOME[:FROM-TO]]*
					
					<p><b>Examples</b></p>
					
					<p>
						3:40000-50000<br/>
						3,5:140000-160000<br/>
						1,2<br/>
						1:5000-7000,2:30000-100000
					</p>
				</section>
				
				<!-- Quantitation Type -->
				<section title="Quantitation Type" id="param-quantitationType">
					Quantitation type.  Examples include "copy number," "LOH,"
					"fold change," "log2 fold change."
				</section>
		
				<!-- Analytic Pipeline -->
				<section title="Analytic Pipeline" id="param-analyticPipeline">
					These parameters specify the analytic pipeline that will be performed
					on data before it is plotted.
					<prop-list>
						<prop name="pipeline" id="param-pipeline">
							Name of analytic pipeline that will be run on data prior to
							plotting.  For instructions on how to create a new
							pipeline or change settings for individual pipeline operations see
							the <ref id="pipelines">Analytic Pipelines</ref> section.
						</prop>	
					</prop-list>
				</section>

				<!-- Plot Dimensions -->
				<section title="Plot Dimensions" id="plotDimensions">
					These parameters specify the extent of the plot.
					<prop-list>
						<prop name="width" id="param-width">Width of plot on pixels.</prop>
						<prop name="height" id="param-height">Height of plot in pixels.</prop>
					</prop-list>
				</section>
		
				<!-- Plot Properties -->
				<section title="Plot Properties" id="plotProperties">
					These parameters control which features are displayed in plots.
					<prop-list>
						<prop name="Minimum plot value" id="param-minY">
							This parameters has two effects:  In scatter plots it corresponds the
							minimum value on the Y-axis.  In annotation and ideogram plots is
							corresponds to the minimum saturation value for color coded
							copy number measurement.  For instance, all copy number measurements that
							are equal to or less than this value will be colored green.
						</prop>
						<prop name="Maximum plot value" id="param-maxY">
							This parameters has two effects:  In scatter plots it corresponds the
							maximum value on the Y-axis.  In annotation and ideogram plots is
							corresponds to the maximum saturation value for color coded
							copy number measurement.  For instance, all copy number measurements that
							are equal to or greater than this value will be colored red.
						</prop>
						<prop name="Data mask" id="param-threshold">
							This is used in annotation and ideogram plots to filter out
							color-coded copy number data between two threshold values
							(e.g. -0.2 and 0.3).  This enables the user to filter out
							background values so that only regions of significant
							amplification or deletion (or expression) are colored.
						</prop>
						<prop name="Show annotated feature labels in plot" id="param-showLabels">
							This parameters controls if the names annotated genome features
							are displayed in annotation plots.
						</prop>
						<prop name="Show ideogram in plot" id="param-showIdeograms">
							This parameter controls if chromosome ideograms are displayed in
							scatter plots.
						</prop>
						<prop name="Chromosome ideograms per row" id="param-ideogramsPerRow">
							This specifies the number of chromosome ideograms per row in
							ideogram plots.  It is only relevant when the plot consists
							of the entire genome.
						</prop>
						<prop name="Chromosome ideogram size" id="param-ideogramSize">
							This controls the relative size of chromosome ideograms in ideogram
							plots.
						</prop>
						<prop name="Annotated genomic feature types" id="param-selectedFeatureTypes">
							This control allows the user to select which types of annotated genome
							features will be displayed in the annotation plot and annotation report.
						</prop>
						<prop name="Reference assembly" id="param-referenceAssembly">
							This paramter is used in annotation plots and reports to specify the
							assembly from which annotation features are obtained.  In ideogram plots
							and scatter plots when the <ref id="param-showIdeograms">show ideograms in plot</ref>
							option is selected, this specifies which assembly to obtain ideograms from.
						</prop>
						<prop name="Specific probes" id="param-probes">
							This is used in probe plots to specify specific probes that
							will be viewed.
						</prop>
					</prop-list>
				</section>
			</section>
		</section>
		
		
		<!-- ============= Plots ======================= -->
		<section title="Plot Types" id="plotTypes">
		
			<!-- Scatter plot -->
			<section title="Scatter Plot" id="scatterPlot">
				Scatter plots display array reporter values (e.g. fold changes) against physical genome location.
				Users can view data at arbitrary resolutions from the entire genome on down.
				Both CGH and gene expression data can be co-visualized in this plot.  When moving
				the mouse over specific probes the system provides mouse-over probe names.
				Clicking on the name of an experiment or bioassay in the plot legend will
				highlight the corresponding data.
			</section>
			
			<!-- Annotation plot -->
			<section title="Annotation Plot" id="annotationPlot">
				This plot displays annotated genome features along with color-coded data intensities
				in a genome browser view.
			</section>
			
			<!-- Annotation report -->
			<section title="Annotation Report" id="annotationReport">
			 	This plot gives a tabular view of annotated genome features within a given region.
			 	Users can download tables in Excel format.
			</section>
			
			<!-- Ideogram plot -->
			<section title="Ideogram Plot" id="ideogramPlot">
				This plot shows color-coded data values in relation to chromosome ideograms.
			</section>
			
			<!-- Probe plot -->
			<section title="Probe Plot" id="probePlot">
				This plot shows data values for selected probes only.
			</section>
		
		</section>

	</section>
	
	
	<!-- ================================================================ -->
	<!--                         Virtual experiments                      -->
	<!-- ================================================================ -->
	<section title="Virtual Experiments" id="virtual">
		The system allows the user to aggregate individual bioassays from
		one or more experiments to create user-defined data sets called
		<em>virtual experiments</em>.  These groupings are stored persistently
		and are only accessible from the user login account from which they were created.
	
		<!-- ============= Managing virtual experiments ============= -->
		<section title="Managing Virtual Experiments" id="managingVirtual">
			<p>
				For overall information on virtual experiments see
				<ref id="virtual">Virtual Experiments</ref>
			</p>
			<p>
				The virtual experiment management
				feature allows the user to delete existing virtual experiments
				and view the properties of virtual experiments.  When the user
				clicks on a <em>delete</em> link the system will prompt the user
				before actually deleting the experiment to ensure that experiments
				are not inadvertently deleted.
			</p>
			
			<p>
				To access this feature click on the <em>Virtual Experiments</em> tab
				and click the <em>Manage Experiments</em> link if this page is not
				already displayed.
			</p>
		</section>
		
		
		<!-- ============= Creating new virtual experiments ========= -->
		<section title="Creating New Virtual Experiments" id="newVirtual">
			To create a new virtual experiment click on the <em>Virtual Experiment</em>
			tab and <em>New Experiment</em> sub-tab.  The system will then guide
			the user through a wizard-like process with the following steps:
			
			<prop-list>
				<prop name="Selecting Experiments" id="virtualSelectExperiments">
					For an overview of the virtual experiment wizard process
					see <ref id="newVirtual">Creating New Virtual Experiments</ref>.
					The user must first select one or more experiments from which bioassays
					will be drawn for the new virtual experiment.  All experiments that
					the user is authorized to access are presented in this screen excluding
					the virtual experiments.
				</prop>
				<prop name="Selecting Bioassays" id="virtualSelectBioAssays">
					In this screen all bioassays from experiments selected in the previous
					screen are displayed.  The bioassays selected in this screen will
					constitute the set of bioassays in the virtual experiment.
				</prop>
				<prop name="Annotating Virtual Experiment" id="virtualAnnotation">
					In this screen the user must provide some basic annotation that will
					be associated with the new virtual experiment, including an experiment
					name and a description.
				</prop>
				<prop name="Committing Virtual Experiment" id="virtualSummary">
					In this screen the user reviews information entered and commits
					the virtual experiment to persistent storage.
				</prop>
			</prop-list>
		</section>	
	</section>
	
	
	<!-- ================================================================= -->
	<!--                       Analytic Pipelines                          -->
	<!-- ================================================================= -->
	<section title="Analytic Pipelines" id="pipelines">
		When a user creates a plot webGGH may first
		invoke an <em>analytic pipeline</em> on data.  An analytic pipeline
		is a sequence of analytical operations that may filter, normalize, or
		compute aggregate statistics on data.  The system comes pre-loaded
		with default pipelines.  Additionally the user may create custom
		analytic pipelines which are persisted and available each time
		they log into the system.  Users
		specify which pipeline is invoked through the <ref id="plotParams">
		plot parameters</ref> screen.  Here we describe how custom analytic pipelines
		are managed and created.
		
		<!-- ================= Managing analytic pipelines ================ -->
		<section title="Managing Analytic Pipelines" id="pipelines-manage">
			<p>
				For basic information on analytic pipelines see the section
				on <ref id="pipelines">Analytic Pipelines</ref>
			</p>
			<p>
				This screen allows the user to manage their analytic pipelines.
				The user can delete or edit existing pipelines with the exception
				of pre-configured pipelines.  The system will prompt the user if the
				a delete link is clicked to ensure that pipelines will not
				be inadventantly deleted.
			</p>
		</section>
		
		<!-- ================= Creating new analytic pipelines ============ -->
		<section title="Creating/Editing Analytic Pipelines" id="pipelines-new">
			<p>
				For basic information on analytic pipelines see the section
				on <ref id="pipelines">Analytic Pipelines</ref>
			</p>
			<p>
				This screen allows the user to create a new pipeline or edit an
				existing pipeline.  The user can select a name for the pipeline
				and create sequences of analytic operations.  Analytic operations
				are of three basic types: 1) data filtering, 2) data normalization,
				and 3) aggregate statistical functions.  Available operations are
				described in the following subsections.
			</p>
			
			<!-- Data filtering -->
			<section title="Data Filtering Operations" id="filtering">
				<prop-list>
					<prop name="Filter within range" id="filterWithinRange">
						The user species a <em>lower boundary</em> and an
						<em>upper boundary</em> for a range of values.  The
						system filters out all probe values within the specified
						range.  The user may specify any real number for the
						boundaries including -INFINITY and INFINITY.  For plotting
						CGH data it is recommended
						that this filter only be used for removing outliers.  The
						intensities (e.g. fold change, copy number, etc.) will be
						interpolated for regions where probes have been filtered out.
						To mask insignificant regions of copy number change from ideogram and
						annotation plots, set the <ref id="param-threshold">Data Mask</ref>
						parameter.
					</prop>
				</prop-list>
			</section>
			
			<!-- Data normalization -->
			<section title="Data Normalization Operations" id="normalization">
				<prop-list>
					<prop name="Simple array-based normalization" id="simpleArrayNormalization">
						This procedure subtracts the array specific mean or median from each observation. 
						The user specifies the use of the mean or median as the normalization factor. 
						The choice of median based normalization allows the user to lessen the effect of outliers. 
						This type of normalization is useful for making spot intensities comparable across arrays 
						as it removes an overall array effect; each array will be "centered" on zero (or something 
						close to it if the median is used). 
					</prop>
					<prop name="Simple experiment-based normalization" id="simpleExperimentNormalization">
						This procedure subtracts the array specific mean or median from each observation then 
						adds the experiment level mean or median back to each observation. The user specifies 
						the use of the mean or median as the normalization factor. The choice of median based 
						normalization allows the user to lessen the effect of outliers. This type of normalization 
						is useful for making spot intensities comparable across arrays while preserving any overall 
						difference due to treatment effect. This will center each array on the difference between 
						it's own array mean/median and the experiment wide mean/median. 
					</prop>
					<prop name="Simple smoothing" id="simpleSmoothing">
						This operation smooths data using a "sliding window" approach.  The user
						specified a <em>Window size</em>.  The value of probe <em>i</em>
						is equal to the average value of probes <em>i - w/2</em> through 
						<em>i + w/2</em>, where <em>w</em> is the size of the window.
					</prop>
					<prop name="Linear regression" id="linearRegression">
						The effect of linear regression based normalization is similar to that of the simple 
						normalization array operation. This procedure uses linear regression to subtract the 
						array specific mean from each observation, allowing the user to make spot intensities 
						comparable across arrays.  The regression model treats each array as a separate value 
						in a class variable and adjusts accordingly. Requires: at least 2 experiments with at 
						least one array each. 
					</prop>
					<prop name="Local (i.e. non-linear or LOESS) regression" id="loess">
						A data smoothing technique that utilizes regression to reduce "noise", bringing individual 
						data points into line with neighboring points. Each point is placed into a local neighborhood 
						of surrounding points (based on distance) the size of which, referred to as “percentage of data”, 
						is specified by the researcher. For each point, a weighted regression is then performed such 
						that near points have greater influence (weights) than further points. The residual of this 
						regression is used as the normalized or smoothed value, and the process is repeated for each
						 point in the data set. Note that the larger the percentage of the data in the local neighborhood, 
						 the more intense the smoothing effect will be. For our purposes, the following weight function is 
						 used for the regression:  W(x) = (1-|d/D|^3)^3, where x = a given point in the neighborhood, 
						 d = distance to the point of interest, and D = maximum distance to the point of interest 
						 in the local neighborhood.
					</prop>
				</prop-list>
			</section>
			<section title="Aggregate Statistical Functions" id="aggregateStatistics">
				Aggregate statistical functions aggregate data with experiments and create summary statistics
				on a probe-by-props (i.e. reporter-by-reporter) basis.
				<prop-list>
					<prop name="Average" id="averageOperation">
						This function computes the average and standard error of probes with experiments.
					</prop>
				</prop-list>
			</section>
		</section>
	</section>
	
	
	
</help-doc>