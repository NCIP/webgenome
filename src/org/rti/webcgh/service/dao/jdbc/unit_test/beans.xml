<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

	<bean id="dataSource"
		class="org.springframework.jdbc.datasource.DriverManagerDataSource">
		<property name="driverClassName">
			<value>oracle.jdbc.driver.OracleDriver</value>
		</property>
		<property name="url">
			<value>jdbc:oracle:thin:@rtilxs02.rti.org:1521:webgrtid</value>
		</property>
		<property name="username"><value>webg</value></property>
		<property name="password"><value>webcgh9</value></property>
	</bean>
	
	<bean id="jdbcTemplate"
		class="org.springframework.jdbc.core.JdbcTemplate">
		<property name="dataSource"><ref bean="dataSource"/></property>
	</bean>
	
	<bean id="organismIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>organism_seq</value>
		</property>
	</bean>
	
	<bean id="organismDao" class="org.rti.webcgh.service.dao.jdbc.JdbcOrganismDao">
		<property name="jdbcTemplate"><ref bean="jdbcTemplate"/></property>
		<property name="incrementer"><ref bean="organismIncrementer"/></property>
	</bean>
	
	<bean id="reporterIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>reporter_seq</value>
		</property>
	</bean>
	
	<bean id="reporterDao" class="org.rti.webcgh.service.dao.jdbc.JdbcReporterDao">
		<property name="jdbcTemplate"><ref bean="jdbcTemplate"/></property>
		<property name="incrementer"><ref bean="reporterIncrementer"/></property>
	</bean>
	
	<bean id="chromosomeArrayDataIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>chromosome_array_data_seq</value>
		</property>
	</bean>
	
	<bean id="arrayDatumIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>array_datum_seq</value>
		</property>
	</bean>
	
	<bean id="chromosomeArrayDataDao" class="org.rti.webcgh.service.dao.jdbc.JdbcChromosomeArrayDataDao">
		<property name="jdbcTemplate"><ref bean="jdbcTemplate"/></property>
		<property name="chromosomeArrayDataIncrementer">
			<ref bean="chromosomeArrayDataIncrementer"/>
		</property>
		<property name="arrayDatumIncrementer">
			<ref bean="arrayDatumIncrementer"/>
		</property>
		<property name="reporterDao">
			<ref bean="reporterDao"/>
		</property>
	</bean>
	
	<bean id="bioAssayDataIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>bio_assay_data_seq</value>
		</property>
	</bean>
	
	<bean id="bioAssayDataDao" class="org.rti.webcgh.service.dao.jdbc.JdbcBioAssayDataDao">
		<property name="jdbcTemplate"><ref bean="jdbcTemplate"/></property>
		<property name="incrementer">
			<ref bean="bioAssayDataIncrementer"/>
		</property>
		<property name="chromosomeArrayDataDao">
			<ref bean="chromosomeArrayDataDao"/>
		</property>
	</bean>
	
	<bean id="shoppingCartIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>shopping_cart_seq</value>
		</property>
	</bean>
	
	<bean id="experimentIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>experiment_seq</value>
		</property>
	</bean>
	
	<bean id="bioAssayIncrementer"
		class="org.springframework.jdbc.support.incrementer.OracleSequenceMaxValueIncrementer">
		<property name="dataSource"><ref bean="dataSource"/></property>
		<property name="incrementerName">
			<value>bio_assay_seq</value>
		</property>
	</bean>
	
	<bean id="shoppingCartDao" class="org.rti.webcgh.service.dao.jdbc.JdbcShoppingCartDao">
		<property name="jdbcTemplate"><ref bean="jdbcTemplate"/></property>
		<property name="shoppingCartIncrementer">
			<ref bean="shoppingCartIncrementer"/>
		</property>
		<property name="experimentIncrementer">
			<ref bean="experimentIncrementer"/>
		</property>
		<property name="bioAssayIncrementer">
			<ref bean="bioAssayIncrementer"/>
		</property>
		<property name="organismDao">
			<ref bean="organismDao"/>
		</property>
	</bean>
</beans>